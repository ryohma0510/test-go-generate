{{- $source := datasource "source" -}}
// Code generated by go generate; DO NOT EDIT.
package {{ $source.package }}

import (
	"fmt"
	"strconv"
)

type {{ $source.type }} int

const (
{{- range $i, $value := $source.values }}
	{{ $value }} {{ $source.type }} = {{$i}}
{{- end }}
)

func (v {{$source.type}}) Validate() error {
	switch v {
{{- range $value := $source.values }}
	case {{ $value }}:
		return nil
{{- end }}
	}
	return fmt.Errorf("invalid {{ $source.type | strings.ToLower }}: %d", v)
}

func (v {{$source.type}}) String() string {
	switch v {
{{- range $value := $source.values }}
	case {{ $value }}:
		return "{{ $value }}"
{{- end }}
	}
	return "%!{{$source.type}}(" + strconv.Itoa(int(v)) + ")"
}
